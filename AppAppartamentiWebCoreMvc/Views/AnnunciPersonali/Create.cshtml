@using Microsoft.AspNetCore.Mvc.Localization
@using AppAppartamentiWebCoreMvc.Controllers
@inject IViewLocalizer _localizer
@model AnnuncioDtoInput

@{
    ViewData["Title"] = @_localizer["Title"];
}

@{
    AnnuncioDtoOutput annuncio = (AnnuncioDtoOutput)ViewData["Annuncio"];
    List<byte[]> immaginiAnnuncio = (List<byte[]>)ViewData["ImmaginiAnnuncio"];
}

<div class="container container-custom">
    <div class="row">
        <div class="col-sm-11">
            <label class="title">@_localizer["Title"]</label>
        </div>
        <div class="col-sm-1 text-right">
            @{await Html.RenderPartialAsync("_VirtualAgentSell");}
        </div>

        <div class="col-sm-3 mt-4">
            <div class="nav flex-column nav-pills" id="create-pills-tab" role="tablist" aria-orientation="vertical">
                <a class="nav-link text-dark active" id="tipologia-proprieta-tab" data-toggle="pill" href="#tipologia-proprieta" role="tab" aria-controls="tipologia-proprieta" aria-selected="true">
                    @_localizer["PropertyType"]
                </a>
                <a class="nav-link text-dark" id="tipologia-annuncio-tab" data-toggle="pill" href="#tipologia-annuncio" role="tab" aria-controls="tipologia-annuncio" aria-selected="false">@_localizer["Adtype"]</a>
                <a class="nav-link text-dark" id="posizione-tab" data-toggle="pill" href="#posizione" role="tab" aria-controls="posizione" aria-selected="false">@_localizer["Position"]</a>
                <a class="nav-link text-dark" id="prezzo-tab" data-toggle="pill" href="#prezzo" role="tab" aria-controls="prezzo" aria-selected="false">@_localizer["PriceAndCost"]</a>
                <a class="nav-link text-dark" id="caratteristiche-tab" data-toggle="pill" href="#caratteristiche" role="tab" aria-controls="caratteristiche" aria-selected="false">@_localizer["Features"]</a>
                <a class="nav-link text-dark" id="descrizione-tab" data-toggle="pill" href="#descrizione" role="tab" aria-controls="descrizione" aria-selected="false">@_localizer["Description"]</a>
                <a class="nav-link text-dark" id="immagini-tab" data-toggle="pill" href="#immagini" role="tab" aria-controls="immagini" aria-selected="false">@_localizer["Images"]</a>
                <a class="nav-link text-dark" id="planimetrie-tab" data-toggle="pill" href="#planimetrie" role="tab" aria-controls="planimetrie" aria-selected="false">@_localizer["Planimetry"]</a>
                <a class="nav-link text-dark" id="video-tab" data-toggle="pill" href="#video" role="tab" aria-controls="video" aria-selected="false">@_localizer["Video"]</a>
                <a class="nav-link text-dark" id="agenda-tab" data-toggle="pill" href="#agenda" role="tab" aria-controls="agenda" aria-selected="false">@_localizer["AgendaTitle"]</a>
            </div>
        </div>
        <div class="col-sm-9 mt-4">
            @{
                string formAction = "";
                string formAspRouteId = "";
                if (@annuncio != null)
                {
                    formAction = "Edit";
                    formAspRouteId = annuncio.Id.ToString();
                }
                else
                {
                    formAction = "Create";
                }
            }
            <form asp-action="@formAction" id="form-create" asp-route-Id="@formAspRouteId">
                @*<input type="time" step="120000" class="" aria-label="Amount (to the nearest dollar)" id="testStepId" name="testStep">*@

                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="tab-content" id="v-pills-tabContent">
                    <div class="tab-pane fade show active" id="tipologia-proprieta" role="tabpanel" aria-labelledby="tipologia-proprieta-tab">
                        <div class="shadow-sm p-3 tab-pane fade show active" role="tabpanel" aria-labelledby="v-pills-home-tab">
                            <h5 class="mb-2 p-3 bg-light border-bottom" style="
                                    margin: -1rem;">
                                @_localizer["PropertyType"]
                            </h5>
                            <div class="form-group">
                                @{
                                    IEnumerable<TipologiaProprieta> tipologiaProprieta2 = (IEnumerable<TipologiaProprieta>)ViewData["ListaTipologieProprieta"];
                                    @foreach (var proprieta in tipologiaProprieta2)
                                    {
                                        @*<input data-val-required="@_localizer["Required"]" class="mr-2" type="radio" asp-for="IdTipologiaProprieta" value="@proprieta.Id" id="@proprieta.Id" />@proprieta.Descrizione<br />*@
                                        if (annuncio != null && annuncio.TipologiaProprieta.ToUpper() == proprieta.Descrizione.ToUpper())
                                        {
                                            <input class="mr-2" type="radio" checked asp-for="IdTipologiaProprieta" value="@proprieta.Id" id="@proprieta.Id" />@proprieta.Descrizione<br />
                                        }
                                        else
                                        {
                                            <input class="mr-2" type="radio" asp-for="IdTipologiaProprieta" value="@proprieta.Id" id="@proprieta.Id" />@proprieta.Descrizione<br />
                                        }
                                    }
                                    <span asp-validation-for="IdTipologiaProprieta" class="text-danger"></span>
                                }
                            </div>
                        </div>
                    </div>
                    <div id="tipologia-annuncio" class="tab-pane fade" role="tabpanel" aria-labelledby="tipologia-annuncio-tab">
                        <div class="shadow-sm p-3">
                            <h5 class="mb-2 p-3 bg-light border-bottom" style="
    margin: -1rem;">
                                @_localizer["Adtype"]
                            </h5>
                            <div class="form-group">
                                @{
                                    IEnumerable<TipologiaAnnuncio> listaTipologiaAnnuncio = (IEnumerable<TipologiaAnnuncio>)ViewData["ListaTipologieAnnunci"];
                                    @foreach (var tipologiaAnnuncio in listaTipologiaAnnuncio)
                                    {
                                        if (annuncio != null && annuncio.TipologiaAnnuncio.ToUpper() == tipologiaAnnuncio.Descrizione.ToUpper())
                                        {
                                            <input checked data-val-required="@_localizer["Required"]" class="mr-2" type="radio" asp-for="IdTipologiaAnnuncio" value="@tipologiaAnnuncio.Id" id="@tipologiaAnnuncio.Id" />@tipologiaAnnuncio.Descrizione<br />
                                        }
                                        else
                                        {
                                            <input data-val-required="@_localizer["Required"]" class="mr-2" type="radio" asp-for="IdTipologiaAnnuncio" value="@tipologiaAnnuncio.Id" id="@tipologiaAnnuncio.Id" />@tipologiaAnnuncio.Descrizione<br />
                                        }
                                    }
                                    <span asp-validation-for="IdTipologiaProprieta" class="text-danger"></span>
                                }
                            </div>
                        </div>
                    </div>
                    <div id="posizione" class="tab-pane fade" role="tabpanel" aria-labelledby="posizione-tab">
                        <div class="shadow-sm p-3">
                            <h5 class="mb-2 p-3 bg-light border-bottom" style="
    margin: -1rem;">
                                @_localizer["Position"]
                            </h5>
                            <div class="form-group form-group-sm">
                                <label asp-for="CodiceComune" class="control-label"></label>
                                <div class="input-group  mb-3">
                                    @{
                                        if (annuncio != null)
                                        {
                                            <input id="input-comune" value="@annuncio.NomeComune" type="text" class="form-control rounded" aria-describedby="basic-addon1" />
                                        }
                                        else
                                        {
                                            <input id="input-comune" type="text" class="form-control rounded" aria-describedby="basic-addon1" />
                                        }
                                    }
                                    <div class="input-group-append">
                                        <div id="city-spinner" class="spinner-border spinner-border-sm text-secondary mt-2" role="status" style="display:none;margin-left:-2rem;z-index:1050 !important">
                                            <span class="sr-only">Loading...</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm">
                                @{
                                    if (annuncio != null)
                                    {
                                        <input data-val-required="@_localizer["Required"]" value="@annuncio.CodiceComune" asp-for="CodiceComune" type="text" class="form-control d-none" />
                                    }
                                    else
                                    {
                                        <input data-val-required="@_localizer["Required"]" asp-for="CodiceComune" type="text" class="form-control d-none" />
                                    }
                                }
                                <span asp-validation-for="CodiceComune" class="text-danger"></span>
                            </div>
                            <div class="form-group form-group-sm">
                                <label data-val-required="@_localizer["Required"]" asp-for="Indirizzo" class="control-label "></label>
                                @{
                                    if (annuncio != null)
                                    {
                                        <input asp-for="Indirizzo" class="form-control" value="@annuncio.Indirizzo" />
                                    }
                                    else
                                    {
                                        <input asp-for="Indirizzo" class="form-control" disabled />
                                    }

                                }
                                <span asp-validation-for="Indirizzo" class="text-danger"></span>
                            </div>

                            <div class="form-group form-group-sm">
                                @{
                                    if (annuncio != null)
                                    {
                                        <input asp-for="CoordinateGeografiche" value="@annuncio.CoordinateGeografiche" class="form-control d-none" />
                                    }
                                    else
                                    {
                                        <input asp-for="CoordinateGeografiche" class="form-control d-none" />
                                    }
                                }
                            </div>

                            @{
                                if (annuncio != null)
                                {
                                    <div id="googleMap" data-latlng="@annuncio.CoordinateGeografiche" class="map w-100" style="height:400px;display:none">
                                    </div>
                                }
                                else
                                {
                                    <div id="googleMap" class="map w-100" style="height:400px;display:none">
                                    </div>
                                }
                            }

                        </div>
                    </div>
                    <div id="prezzo" class="tab-pane fade" role="tabpanel" aria-labelledby="prezzo-tab">
                        <div class="shadow-sm p-3">
                            <h5 class="mb-2 p-3 bg-light border-bottom" style="margin: -1rem;">
                                @_localizer["PriceAndCost"]
                            </h5>
                            <div class="form-group form-group-sm">
                                <label asp-for="Prezzo" class="control-label">
                                    @_localizer["Price"]
                                </label>
                                <div class="input-group">
                                    @{
                                        if (annuncio != null)
                                        {
                                            <input data-val-required="@_localizer["Required"]" value="@annuncio.Prezzo" asp-for="Prezzo" class="form-control" aria-label="prezzo" aria-describedby="inputGroup-prezzo-sm" />
                                        }
                                        else
                                        {
                                            <input data-val-required="@_localizer["Required"]" asp-for="Prezzo" class="form-control" aria-label="prezzo" aria-describedby="inputGroup-prezzo-sm" />
                                        }
                                    }
                                    <div class="input-group-append">
                                        <span class="input-group-text" id="inputGroup-prezzo-sm">€</span>
                                    </div>
                                </div>
                                <span asp-validation-for="Prezzo" class="text-danger"></span>
                            </div>

                            <div class="form-group form-group-sm">
                                <label asp-for="SpesaMensileCondominio" class="control-label">
                                    @_localizer["MonthlyCosts"]
                                </label>
                                <div class="input-group">
                                    @{
                                        if (annuncio != null)
                                        {
                                            <input data-val-required="@_localizer["Required"]" value="@annuncio.SpesaMensileCondominio" asp-for="SpesaMensileCondominio" class="form-control" aria-label="Spesa Mensile Condominio" aria-describedby="inputGroup-SpesaMensileCondominio-sm" />
                                        }
                                        else
                                        {
                                            <input data-val-required="@_localizer["Required"]" asp-for="SpesaMensileCondominio" class="form-control" aria-label="Spesa Mensile Condominio" aria-describedby="inputGroup-SpesaMensileCondominio-sm" />
                                        }
                                    }
                                    <div class="input-group-append">
                                        <span class="input-group-text" id="inputGroup-SpesaMensileCondominio-sm">€/Mese</span>
                                    </div>
                                </div>
                                <span asp-validation-for="SpesaMensileCondominio" class="text-danger"></span>
                            </div>

                            <div class="form-group form-group-sm">
                                @{
                                    IEnumerable<TipologiaRiscaldamento> TipologiaRiscaldamento = (IEnumerable<TipologiaRiscaldamento>)ViewData["ListaTipologieRiscaldamento"];
                                    TipologiaRiscaldamento selectedRiscaldamento = null;
                                    if (annuncio != null)
                                    {
                                        selectedRiscaldamento = TipologiaRiscaldamento.Where(x => x.Descrizione.ToUpper() == annuncio.TipologiaRiscaldamento.ToUpper()).FirstOrDefault();

                                    }
                                }
                                <label class="control-label">
                                    @_localizer["HeatingType"]
                                </label>
                                <br />
                                @{
                                    if (annuncio != null)
                                    {
                                        @Html.DropDownListFor(m => m.IdTipologiaRiscaldamento,
           new SelectList(TipologiaRiscaldamento, "Id", "Descrizione", selectedRiscaldamento.Id),
           "Seleziona...", new { @class = "custom-select" });
                                    }
                                    else
                                    {
                                        @Html.DropDownListFor(m => m.IdTipologiaRiscaldamento,
        new SelectList(TipologiaRiscaldamento, "Id", "Descrizione"),
        "Tipologia riscaldamento", new { @class = "custom-select" });
                                    }

                                }

                            </div>

                            <div class="form-group form-group-sm">
                                <label class="control-label">
                                    @_localizer["EnergeticClass"]

                                </label>
                                @{
                                    IEnumerable<ClasseEnergetica> classeEnergetica = (IEnumerable<ClasseEnergetica>)ViewData["ListaClassiEnergetiche"];

                                    if (annuncio != null)
                                    {
                                        var selectedClasseEnergetica = classeEnergetica.Where(x => x.Descrizione.ToUpper() == annuncio.ClasseEnergetica.ToUpper()).FirstOrDefault();
                                        @Html.DropDownListFor(m => m.IdClasseEnergetica,
new SelectList(classeEnergetica, "Id", "Descrizione", selectedClasseEnergetica.Id),
"Seleziona...", new { @class = "custom-select" });
                                    }
                                    else
                                    {
                                        @Html.DropDownListFor(m => m.IdClasseEnergetica,
new SelectList(classeEnergetica, "Id", "Descrizione"),
"Classe energetica", new { @class = "custom-select" })

                                    }
                                }
                                <br />


                            </div>
                        </div>
                    </div>
                    <div id="caratteristiche" class="tab-pane fade" role="tabpanel" aria-labelledby="caratteristiche-tab">

                        <div class="shadow-sm p-3">
                            <h5 class="mb-2 p-3 bg-light border-bottom" style="
    margin: -1rem;">
                                @_localizer["Features"]

                            </h5>

                            <div class="form-group form-group-sm">
                                <label asp-for="Superficie" class="control-label">
                                    @_localizer["Surface"]
                                </label>
                                <div class="input-group">
                                    @{
                                        if (annuncio != null)
                                        {
                                            <input data-val-required="@_localizer["Required"]" value="@annuncio.Superficie" asp-for="Superficie" class="form-control" aria-label="Superficie" aria-describedby="inputGroup-Superficie-sm" />
                                        }
                                        else
                                        {
                                            <input data-val-required="@_localizer["Required"]" asp-for="Superficie" class="form-control" aria-label="Superficie" aria-describedby="inputGroup-Superficie-sm" />
                                        }
                                    }
                                    <div class="input-group-append">
                                        <span class="input-group-text" id="inputGroup-Superficie-sm">m²</span>
                                    </div>
                                </div>
                                <span asp-validation-for="Superficie" class="text-danger"></span>
                            </div>

                            <div class="form-group form-group-counter">
                                <label asp-for="NumeroCameraLetto" class="control-label col-form-label-sm">
                                    @_localizer["BedroomNumber"]
                                </label>

                                <div class="input-group plus-minus-input">
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="minus" data-field="NumeroCameraLetto">
                                            <i class="fa fa-minus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                    @{
                                        if (annuncio != null)
                                        {
                                            <input value="@annuncio.NumeroCameraLetto" class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroCameraLetto" asp-for="NumeroCameraLetto">
                                        }
                                        else
                                        {
                                            <input class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroCameraLetto" value="0" asp-for="NumeroCameraLetto">
                                        }
                                    }
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="plus" data-field="NumeroCameraLetto">
                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                </div>
                                <span asp-validation-for="NumeroCameraLetto" class="text-danger"></span>
                            </div>

                            <div class="form-group form-group-counter">
                                <label asp-for="NumeroAltreStanze" class="control-label col-form-label-sm">
                                    @_localizer["OtherRoomNumber"]
                                </label>

                                <div class="input-group plus-minus-input">
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="minus" data-field="NumeroAltreStanze">
                                            <i class="fa fa-minus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                    @{
                                        if (annuncio != null)
                                        {
                                            <input value="@annuncio.NumeroAltreStanze" class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroAltreStanze" asp-for="NumeroAltreStanze">
                                        }
                                        else
                                        {
                                            <input class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroAltreStanze" value="0" asp-for="NumeroAltreStanze">
                                        }
                                    }
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="plus" data-field="NumeroAltreStanze">
                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                </div>
                                <span asp-validation-for="NumeroAltreStanze" class="text-danger"></span>
                            </div>

                            <div class="form-group form-group-counter">
                                <label asp-for="NumeroBagni" class="control-label col-form-label-sm">
                                    @_localizer["BathroomNumber"]
                                </label>

                                <div class="input-group plus-minus-input">
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="minus" data-field="NumeroBagni">
                                            <i class="fa fa-minus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                    @{
                                        if (annuncio != null)
                                        {
                                            <input value="@annuncio.NumeroBagni" class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroBagni" asp-for="NumeroBagni">
                                        }
                                        else
                                        {
                                            <input class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroBagni" value="0" asp-for="NumeroBagni">
                                        }
                                    }
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="plus" data-field="NumeroBagni">
                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                </div>
                                <span asp-validation-for="NumeroBagni" class="text-danger"></span>
                            </div>

                            <div class="form-group form-group-counter">
                                <label asp-for="NumeroCucine" class="control-label col-form-label-sm">
                                    @_localizer["KitchensNumber"]
                                </label>

                                <div class="input-group plus-minus-input">
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="minus" data-field="NumeroCucine">
                                            <i class="fa fa-minus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                    @{
                                        if (annuncio != null)
                                        {
                                            <input value="@annuncio.NumeroCucine" class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroCucine" asp-for="NumeroCucine">
                                        }
                                        else
                                        {
                                            <input class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroCucine" value="0" asp-for="NumeroCucine">
                                        }
                                    }
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="plus" data-field="NumeroCucine">
                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                </div>
                                <span asp-validation-for="NumeroCucine" class="text-danger"></span>
                            </div>

                            <div class="form-group form-group-counter">
                                <label asp-for="NumeroGarage" class="control-label col-form-label-sm">
                                    @_localizer["GarageNumber"]
                                </label>

                                <div class="input-group plus-minus-input">
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="minus" data-field="NumeroGarage">
                                            <i class="fa fa-minus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                    @{
                                        if (annuncio != null)
                                        {
                                            <input value="@annuncio.NumeroGarage" class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroGarage" asp-for="NumeroGarage">
                                        }
                                        else
                                        {
                                            <input class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroGarage" value="0" asp-for="NumeroGarage">
                                        }

                                    }
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="plus" data-field="NumeroGarage">
                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                </div>
                                <span asp-validation-for="NumeroGarage" class="text-danger"></span>
                            </div>

                            <div class="form-group form-group-counter">
                                <label asp-for="NumeroPostiAuto" class="control-label col-form-label-sm">
                                    @_localizer["CarSeatsNumber"]
                                </label>

                                <div class="input-group plus-minus-input">
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="minus" data-field="NumeroPostiAuto">
                                            <i class="fa fa-minus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                    @{
                                        if (annuncio != null)
                                        {
                                            <input value="@annuncio.NumeroPostiAuto" class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroPostiAuto" asp-for="NumeroPostiAuto">
                                        }
                                        else
                                        {
                                            <input class="input-group-field form-control form-control-sm rounded ml-2 mr-2" type="number" name="NumeroPostiAuto" value="0" asp-for="NumeroPostiAuto">
                                        }

                                    }
                                    <div class="input-group-button">
                                        <button type="button" class="button hollow circle btn btn-dark rounded-circle btn-sm" data-quantity="plus" data-field="NumeroPostiAuto">
                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                </div>
                                <span asp-validation-for="NumeroPostiAuto" class="text-danger"></span>
                            </div>

                            <hr />

                            <div class="form-group form-group-sm">
                                <label asp-for="Piano" class="control-label">
                                    @_localizer["Floor"]
                                </label>
                                @{
                                    if (annuncio != null)
                                    {
                                        <input value="@annuncio.Piano" data-val-required="@_localizer["Required"]" asp-for="Piano" class="form-control" />
                                    }
                                    else
                                    {
                                        <input data-val-required="@_localizer["Required"]" asp-for="Piano" class="form-control" />
                                    }
                                }
                                <span asp-validation-for="Piano" class="text-danger"></span>
                            </div>

                            <div class="form-check">
                                @{
                                    if (annuncio != null && annuncio.UltimoPiano.HasValue && annuncio.UltimoPiano.Value == true)
                                    {
                                        <input class="form-check-input" type="checkbox" checked asp-for="UltimoPiano" />

                                    }
                                    else
                                    {
                                        <input class="form-check-input" type="checkbox" asp-for="UltimoPiano" />

                                    }
                                }
                                <label class="form-check-label" asp-for="UltimoPiano">
                                    @_localizer["TopFloor"]
                                </label>
                                <span asp-validation-for="UltimoPiano" class="text-danger"></span>
                            </div>

                            <div class="form-check">
                                @{ if (annuncio != null && annuncio.Giardino.HasValue && annuncio.Giardino.Value == true)
                                    {
                                        <input class="form-check-input" type="checkbox" checked asp-for="Giardino" />

                                    }
                                    else
                                    {
                                        <input class="form-check-input" type="checkbox" asp-for="Giardino" />

                                    }
                                }
                                <label class="form-check-label" asp-for="Giardino">
                                    @_localizer["Garden"]
                                </label>
                                <span asp-validation-for="Giardino" class="text-danger"></span>
                            </div>

                            <div class="form-check">
                                @{ if (annuncio != null && annuncio.Ascensore.HasValue && annuncio.Ascensore.Value == true)
                                    {
                                        <input class="form-check-input" type="checkbox" checked asp-for="Ascensore" />

                                    }
                                    else
                                    {
                                        <input class="form-check-input" type="checkbox" asp-for="Ascensore" />

                                    }
                                }
                                <label class="form-check-label" asp-for="Ascensore">
                                    @_localizer["Lift"]
                                </label>
                                <span asp-validation-for="Ascensore" class="text-danger"></span>
                            </div>

                            <div class="form-check">
                                @{ if (annuncio != null && annuncio.Balcone.HasValue && annuncio.Balcone.Value == true)
                                    {
                                        <input class="form-check-input" type="checkbox" checked asp-for="Balcone" />

                                    }
                                    else
                                    {
                                        <input class="form-check-input" type="checkbox" asp-for="Balcone" />

                                    }
                                }
                                <label class="form-check-label" asp-for="Balcone">
                                    @_localizer["Balcony"]
                                </label>
                                <span asp-validation-for="Balcone" class="text-danger"></span>
                            </div>

                            <div class="form-check">
                                @{ if (annuncio != null && annuncio.Piscina.HasValue && annuncio.Piscina.Value == true)
                                    {
                                        <input class="form-check-input" type="checkbox" checked asp-for="Piscina" />

                                    }
                                    else
                                    {
                                        <input class="form-check-input" type="checkbox" asp-for="Piscina" />

                                    }
                                }
                                <label class="form-check-label" asp-for="Piscina">
                                    @_localizer["Pool"]
                                </label>
                                <span asp-validation-for="Piscina" class="text-danger"></span>
                            </div>

                            <div class="form-check">
                                @{ if (annuncio != null && annuncio.Cantina.HasValue && annuncio.Cantina.Value == true)
                                    {
                                        <input class="form-check-input" type="checkbox" checked asp-for="Cantina" />

                                    }
                                    else
                                    {
                                        <input class="form-check-input" type="checkbox" asp-for="Cantina" />

                                    }
                                }
                                <label class="form-check-label" asp-for="Cantina">
                                    @_localizer["Cellar"]
                                </label>
                                <span asp-validation-for="Cantina" class="text-danger"></span>
                            </div>

                            <div class="form-check">
                                @{ if (annuncio != null && annuncio.Condizionatori.HasValue && annuncio.Condizionatori.Value == true)
                                    {
                                        <input class="form-check-input" type="checkbox" checked asp-for="Condizionatori" />

                                    }
                                    else
                                    {
                                        <input class="form-check-input" type="checkbox" asp-for="Condizionatori" />

                                    }
                                }
                                <label class="form-check-label" asp-for="Condizionatori">
                                    @_localizer["Conditioners"]
                                </label>
                                <span asp-validation-for="Condizionatori" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div id="descrizione" class="tab-pane fade" role="tabpanel" aria-labelledby="descrizione-tab">

                        <div class="shadow-sm p-3">
                            <h5 class="mb-2 p-3 bg-light border-bottom" style="margin: -1rem;">@_localizer["Description"]</h5>
                            <div class="form-group">
                                @{
                                    if (annuncio != null)
                                    {
                                        @Html.TextArea("Descrizione", @annuncio.Descrizione, new { @rows = "10", @class = "form-control" })

                                    }
                                    else
                                    {
                                        <textarea rows="10" asp-for="Descrizione" class="form-control"></textarea>
                                    }

                                }
                                <span asp-validation-for="Descrizione" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div id="immagini" class="tab-pane fade" role="tabpanel" aria-labelledby="immagini-tab">

                        <div class="shadow-sm p-3">
                            <h5 class="mb-2 p-3 bg-light border-bottom" style="margin: -1rem;">@_localizer["Images"]</h5>
                            <div class="form-group">
                                <div class="form-group text-center">
                                    <input type="file" data-input-name="Immagini" data-list-name="containerImmagini" class="file-input" id="input-immagini">
                                    <label class="file-label p-2 text-primary border w-50" for="input-immagini">+ Aggiungi immagine</label>
                                </div>
                            </div>

                            <div>
                                <div class="row" id="containerImmagini">
                                    @{
                                        if (annuncio != null && immaginiAnnuncio != null &&  immaginiAnnuncio.Any())
                                        {
                                            int i = 0;
                                            foreach (byte[] imm in immaginiAnnuncio)
                                            {
                                                var base64 = Convert.ToBase64String(imm);
                                                var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
                                                var inputName = "Immagini[" + i + "]";

                                                <div class="col-xs-12 col-sm-4 p-0 ad-create-image appartamento-image">
                                                    <button onclick="RemoveFile(this,'containerImmagini','appartamento-image','Immagini')" class="btn-remove btn btn-light rounded-circle position-absolute border">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </button>
                                                    <input style="display:none" value="@base64" name="@inputName" />
                                                    <div class="border p-2 m-2">
                                                        <img id="ad-image" src="@imgSrc" alt="image" class="d-block w-100 " />
                                                    </div>
                                                </div>

                                                i++;
                                            }
                                        }
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="planimetrie" class="tab-pane fade" role="tabpanel" aria-labelledby="planimetrie-tab">


                        <div class="shadow-sm  p-3">
                            <h5 class="mb-2 p-3 bg-light border-bottom" style="margin: -1rem;">@_localizer["Planimetry"]</h5>
                            <div class="form-group">
                                <div class="form-group text-center">
                                    <input type="file" data-input-name="ImmaginePlanimetria" data-list-name="containerPlanimetria" class="file-input" id="input-planimetria">
                                    <label class="file-label p-2 text-primary border w-50" for="input-planimetria">+ Aggiungi planimetria</label>
                                </div>
                            </div>

                            <div>
                                <div class="row" id="containerPlanimetria">
                                    @{
                                        if (annuncio != null && annuncio.ImmaginiPlanimetria.Any())
                                        {
                                            var j = 0;
                                            foreach (byte[] imm in annuncio.ImmaginiPlanimetria)
                                            {
                                                var base64 = Convert.ToBase64String(imm);
                                                var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
                                                var inputName = "ImmaginePlanimetria[" + j + "]";

                                                <div class="col-xs-12 col-sm-4 p-0 ad-create-image planimetria-image">
                                                    <button onclick="RemoveFile(this,'containerPlanimetria','planimetria-image','ImmaginePlanimetria')" class="btn-remove btn btn-light rounded-circle position-absolute border">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </button>
                                                    <input style="display:none" value="@base64" name="@inputName" />
                                                    <div class="border p-2 m-2">
                                                        <img id="ad-image" src="@imgSrc" alt="image" class="d-block w-100 " />
                                                    </div>
                                                </div>

                                                j++;
                                            }
                                        }
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="video" class="tab-pane fade" role="tabpanel" aria-labelledby="video-tab">

                        <div class="shadow-sm  p-3">
                            <h5 class="mb-2 p-3 bg-light border-bottom" style="margin: -1rem;">@_localizer["Video"]</h5>
                            <div class="form-group">
                                <div class="form-group text-center">
                                    <input type="file" data-list-name="containerVideo" class="file-input" id="videoInput">
                                    <label class="file-label p-2 text-primary border w-50" for="videoInput">+ Aggiungi video</label>
                                </div>
                            </div>

                            <div>
                                <div class="row" id="containerVideo">
                                </div>
                            </div>
                        </div>

                    </div>
                    <div id="agenda" class="tab-pane fade" role="tabpanel" aria-labelledby="agenda-tab">

                        <div class="shadow-sm p-3">
                            <h5 class="mb-2 p-3 bg-light border-bottom" style="margin: -1rem;">@_localizer["AgendaTitle"]&nbsp;<small class="text-muted">@_localizer["AgendaSubtitle"]</small></h5>

                            <div class="btn-group-toggle text-center mt-3" data-toggle="buttons">
                                @{
                                    var activeLun = "";
                                    var ariaPressedLun = "";
                                    if (annuncio != null && annuncio.DisponibilitaOraria != null && annuncio.DisponibilitaOraria.FasceOrarieLunedi != null)
                                    {
                                        activeLun = "active";
                                        ariaPressedLun = "aria-pressed=\"true\"";
                                    }

                                }
                                <label class="btn-toggle-slot btn btn-light @activeLun" @ariaPressedLun data-target="#divMonday">
                                    <input type="checkbox"> @_localizer["Monday"]
                                </label>

                                @{
                                    var activeMar = "";
                                    var ariaPressedMar = "";
                                    if (annuncio != null && annuncio.DisponibilitaOraria != null && annuncio.DisponibilitaOraria.FasceOrarieMartedi != null)
                                    {
                                        activeMar = "active";
                                        ariaPressedMar = "aria-pressed=\"true\"";
                                    }

                                }
                                <label class="btn-toggle-slot btn btn-light @activeMar" @ariaPressedMar data-target="#divTuesday">
                                    <input type="checkbox"> @_localizer["Tuesday"]
                                </label>

                                @{
                                    var activeMer = "";
                                    var ariaPressedMer = "";
                                    if (annuncio != null && annuncio.DisponibilitaOraria != null && annuncio.DisponibilitaOraria.FasceOrarieMercoledi != null)
                                    {
                                        activeMer = "active";
                                        ariaPressedMer = "aria-pressed=\"true\"";
                                    }

                                }
                                <label class="btn-toggle-slot btn btn-light @activeMer" @ariaPressedMer data-target="#divWednesday">
                                    <input type="checkbox"> @_localizer["Wednesday"]
                                </label>

                                @{
                                    var activeGio = "";
                                    var ariaPressedGio = "";
                                    if (annuncio != null && annuncio.DisponibilitaOraria != null && annuncio.DisponibilitaOraria.FasceOrarieGiovedi != null)
                                    {
                                        activeGio = "active";
                                        ariaPressedGio = "aria-pressed=\"true\"";
                                    }

                                }
                                <label class="btn-toggle-slot btn btn-light @activeGio" @ariaPressedGio data-target="#divThursday">
                                    <input type="checkbox"> @_localizer["Thursday"]
                                </label>

                                @{
                                    var activeVen = "";
                                    var ariaPressedVen = "";
                                    if (annuncio != null && annuncio.DisponibilitaOraria != null && annuncio.DisponibilitaOraria.FasceOrarieVenerdi != null)
                                    {
                                        activeVen = "active";
                                        ariaPressedVen = "aria-pressed=\"true\"";
                                    }

                                }
                                <label class="btn-toggle-slot btn btn-light @activeVen" @ariaPressedVen data-target="#divFriday">
                                    <input type="checkbox"> @_localizer["Friday"]
                                </label>

                                @{
                                    var activeSab = "";
                                    var ariaPressedSab = "";
                                    if (annuncio != null && annuncio.DisponibilitaOraria != null && annuncio.DisponibilitaOraria.FasceOrarieSabato != null)
                                    {
                                        activeSab = "active";
                                        ariaPressedSab = "aria-pressed=\"true\"";
                                    }

                                }
                                <label class="btn-toggle-slot btn btn-light @activeSab" @ariaPressedSab data-target="#divSaturday">
                                    <input type="checkbox"> @_localizer["Saturday"]
                                </label>

                                @{
                                    var activeDom = "";
                                    var ariaPressedDom = "";
                                    if (annuncio != null && annuncio.DisponibilitaOraria != null && annuncio.DisponibilitaOraria.FasceOrarieDomenica != null)
                                    {
                                        activeDom = "active";
                                        ariaPressedDom = "aria-pressed=\"true\"";
                                    }

                                }
                                <label class="btn-toggle-slot btn btn-light @activeDom" @ariaPressedDom data-target="#divSunday">
                                    <input type="checkbox"> @_localizer["Sunday"]
                                </label>
                            </div>

                            <hr />
                            @{
                                IEnumerable<string> Ore = (IEnumerable<string>)ViewData["ListaOre"];
                                IEnumerable<string> Minuti = (IEnumerable<string>)ViewData["ListaMinuti"];
                            }

                            @{
                                var fasceLun = new string[0];
                                var stringDisponibilitaLun = "";
                                var fasceLunPrimoFrom = "";
                                var fasceLunPrimoTo = "";
                                var displayMonday = "display:none";
                                string selectedLunHourFrom = null;
                                string selectedLunMinutesFrom = null;
                                string selectedLunHourTo = null;
                                string selectedLunMinutesTo = null;
                                if (annuncio != null && annuncio.DisponibilitaOraria != null)
                                {
                                    if (annuncio.DisponibilitaOraria.FasceOrarieLunedi != null && annuncio.DisponibilitaOraria.FasceOrarieLunedi != "")
                                    {
                                        stringDisponibilitaLun = annuncio.DisponibilitaOraria.FasceOrarieLunedi;
                                        displayMonday = "";
                                        fasceLun = stringDisponibilitaLun.Split(";");
                                        //rimuovo l'ultimo elemento perchè è una stringa vuota, infatti il formato è 10:00-12:00;14:00-15:30;
                                        fasceLun = fasceLun.Take(fasceLun.Count() - 1).ToArray();
                                        fasceLunPrimoFrom = fasceLun[0].Split("-")[0];
                                        selectedLunHourFrom =  Ore.Where(x => x == fasceLunPrimoFrom.Split(":")[0] ).FirstOrDefault();
                                        selectedLunMinutesFrom =  Minuti.Where(x => x == fasceLunPrimoFrom.Split(":")[1] ).FirstOrDefault();
                                        fasceLunPrimoTo = fasceLun[0].Split("-")[1];
                                        selectedLunHourTo =  Ore.Where(x => x == fasceLunPrimoTo.Split(":")[0] ).FirstOrDefault();
                                        selectedLunMinutesTo =  Minuti.Where(x => x == fasceLunPrimoTo.Split(":")[1] ).FirstOrDefault();
                                    }
                                }
                            }
                        <div id="divMonday" class="mt-5 " style="@displayMonday" data-for="#DisponibilitaOraria_FasceOrarieLunedi" >
                            <label class="h6">
                                @_localizer["Monday"]
                            </label>
                            <a class="btn-time-slot btn btn-sm rounded-pill btn-light float-right mb-3" data-target="#slot-time-monday">@_localizer["AddTimeSlot"]</a>



                            <div id="slot-time-monday" data-index="0" class="input-group mb-3 input-time-slot">
                                <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot" style="display:none;">
                                    <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                </div>
                                <div class="input-group-prepend ">
                                    <span class="input-group-text rounded-left">@_localizer["From"]</span>
                                </div>
                                @Html.DropDownList("oreFasciaOrariaFrom",
                                                    new SelectList(@Ore, @selectedLunHourFrom),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaFrom",
                                                    new SelectList(@Minuti, @selectedLunMinutesFrom),
                                                    @_localizer["Minutes"].Value,
                                                    new { @class = "select-orario custom-select" })
                                <div class="input-group-append">
                                    <span class="input-group-text">@_localizer["To"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@fasceLunPrimoTo" name="fasciaOrariaTo">*@
                                @*<div id="input-to" class="input-group-prepend">*@
                                @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @selectedLunHourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaTo",
                                                        new SelectList(@Minuti, @selectedLunMinutesTo),
                                                        @_localizer["Minutes"].Value,
                                                        new { @class = "select-orario custom-select" })
                                @*</div>*@
                            </div>

                            @{
                                if (fasceLun != null)
                                {
                                    var nLun = 0;
                                    @foreach (var fascia in fasceLun)
                                    {
                                        if (nLun == 0)
                                        {
                                            nLun++;
                                            continue;
                                        }
                                        var hourFrom = fascia.Split("-")[0].Split(":")[0];
                                        var minFrom =  fascia.Split("-")[0].Split(":")[1];
                                        var hourTo = fascia.Split("-")[1].Split(":")[0];
                                        var minTo = fascia.Split("-")[1].Split(":")[1];
                                        <div id="slot-time-monday" data-index="0" class="input-group mb-3 input-time-slot">
                                            <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot">
                                                @*style="display:none;"*@
                                                <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                            </div>
                                            <div class="input-group-prepend ">
                                                <span class="input-group-text rounded-left">@_localizer["From"]</span>
                                            </div>
                                            @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@from" name="fasciaOrariaFrom">*@
                                            
                                            @Html.DropDownList("oreFasciaOrariaFrom",
                                                    new SelectList(@Ore, @hourFrom),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                            @Html.DropDownList("minutiFasciaOrariaFrom",
                                                    new SelectList(@Minuti, @minFrom),
                                                    @_localizer["Minutes"].Value,
                                                    new { @class = "select-orario custom-select" })

                                            <div class="input-group-append">
                                                <span class="input-group-text">@_localizer["To"]</span>
                                            </div>
                                            @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@to" name="fasciaOrariaTo">*@
                                        
                                            @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @hourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                            @Html.DropDownList("minutiFasciaOrariaTo",
                                                        new SelectList(@Minuti, @minTo),
                                                        @_localizer["Minutes"].Value,
                                                        new { @class = "select-orario custom-select" })
                                        
                                        </div>

                                        nLun++;
                                    }
                                }
                            }


                            <input type="text" asp-for="DisponibilitaOraria.FasceOrarieLunedi" style="display:none;" value="@stringDisponibilitaLun" /> 
                        </div>

                            @{
                                var fasceMar = new string[0];
                                var stringDisponibilitaMar = "";
                                var fasceMarPrimoFrom = "";
                                var fasceMarPrimoTo = "";
                                var displayTuesday = "display:none";
                                string selectedMarHourFrom = null;
                                string selectedMarMinutesFrom = null;
                                string selectedMarHourTo = null;
                                string selectedMarMinutesTo = null;
                                if (annuncio != null && annuncio.DisponibilitaOraria != null)
                                {
                                    if (annuncio.DisponibilitaOraria.FasceOrarieMartedi != null && annuncio.DisponibilitaOraria.FasceOrarieMartedi != "")
                                    {
                                        stringDisponibilitaMar = annuncio.DisponibilitaOraria.FasceOrarieMartedi;
                                        displayTuesday = "";
                                        fasceMar = stringDisponibilitaMar.Split(";");
                                        //rimuovo l'ultimo elemento perchè è una stringa vuota, infatti il formato è 10:00-12:00;14:00-15:30;
                                        fasceMar = fasceMar.Take(fasceMar.Count() - 1).ToArray();
                                        fasceMarPrimoFrom = fasceMar[0].Split("-")[0];
                                        selectedMarHourFrom =  Ore.Where(x => x == fasceMarPrimoFrom.Split(":")[0] ).FirstOrDefault();
                                        selectedMarMinutesFrom =  Minuti.Where(x => x == fasceMarPrimoFrom.Split(":")[1] ).FirstOrDefault();
                                        fasceMarPrimoTo = fasceMar[0].Split("-")[1];
                                        selectedMarHourTo =  Ore.Where(x => x == fasceMarPrimoTo.Split(":")[0] ).FirstOrDefault();
                                        selectedMarMinutesTo =  Minuti.Where(x => x == fasceMarPrimoTo.Split(":")[1] ).FirstOrDefault();
                                    }
                                }
                            }
                            <div id="divTuesday" class="mt-5" style="@displayTuesday" data-for="#DisponibilitaOraria_FasceOrarieMartedi" >
                                <label class="h6">
                                    @_localizer["Tuesday"]

                                </label>
                                <a class="btn-time-slot btn btn-sm rounded-pill btn-light float-right mb-3" data-target="#slot-time-tuesday">@_localizer["AddTimeSlot"]</a>

                                <div id="slot-time-tuesday" class="input-group mb-3  input-time-slot">
                                    <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot" style="display:none;">
                                        <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                    </div>
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">@_localizer["From"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaFrom" value="@fasceMarPrimoFrom">*@

                                    @Html.DropDownList("oreFasciaOrariaFrom",
                                                    new SelectList(@Ore, @selectedMarHourFrom),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaFrom",
                                                        new SelectList(@Minuti, @selectedMarMinutesFrom),
                                                        @_localizer["Minutes"].Value,
                                                        new { @class = "select-orario custom-select" })

                                    <div class="input-group-append">
                                        <span class="input-group-text">@_localizer["To"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaTo" value="@fasceMarPrimoTo">*@

                                    @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @selectedMarHourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaTo",
                                                            new SelectList(@Minuti, @selectedMarMinutesTo),
                                                            @_localizer["Minutes"].Value,
                                                            new { @class = "select-orario custom-select" })

                                </div>

                                @{
                                    if (fasceMar != null)
                                    {
                                        var nMar = 0;
                                        @foreach (var fascia in fasceMar)
                                        {
                                            if (nMar == 0)
                                            {
                                                nMar++;
                                                continue;
                                            }
                                            var hourFrom = fascia.Split("-")[0].Split(":")[0];
                                            var minFrom =  fascia.Split("-")[0].Split(":")[1];
                                            var hourTo = fascia.Split("-")[1].Split(":")[0];
                                            var minTo = fascia.Split("-")[1].Split(":")[1];
                            <div id="slot-time-tuesday" data-index="0" class="input-group mb-3 input-time-slot">
                                <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot">
                                    <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                </div>
                                <div class="input-group-prepend ">
                                    <span class="input-group-text rounded-left">@_localizer["From"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@from" name="fasciaOrariaFrom">*@

                                @Html.DropDownList("oreFasciaOrariaFrom",
                                    new SelectList(@Ore, @hourFrom),
                                    @_localizer["Hours"].Value,
                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaFrom",
                                        new SelectList(@Minuti, @minFrom),
                                        @_localizer["Minutes"].Value,
                                        new { @class = "select-orario custom-select" })

                                <div class="input-group-append">
                                    <span class="input-group-text">@_localizer["To"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@to" name="fasciaOrariaTo">*@

                                @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @hourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaTo",
                                            new SelectList(@Minuti, @minTo),
                                            @_localizer["Minutes"].Value,
                                            new { @class = "select-orario custom-select" })

                            </div>

                                            nMar++;
                                        }
                                    }
                                }

                                <input type="text" asp-for="DisponibilitaOraria.FasceOrarieMartedi" style="display:none;" value="@stringDisponibilitaMar" />

                            </div>
                            @{
                                var fasceMer = new string[0];
                                var stringDisponibilitaMer = "";
                                var fasceMerPrimoFrom = "";
                                var fasceMerPrimoTo = "";
                                var displayWednesday = "display:none";
                                string selectedMerHourFrom = null;
                                string selectedMerMinutesFrom = null;
                                string selectedMerHourTo = null;
                                string selectedMerMinutesTo = null;
                                if (annuncio != null && annuncio.DisponibilitaOraria != null)
                                {
                                    if (annuncio.DisponibilitaOraria.FasceOrarieMercoledi != null && annuncio.DisponibilitaOraria.FasceOrarieMercoledi != "")
                                    {
                                        stringDisponibilitaMer = annuncio.DisponibilitaOraria.FasceOrarieMercoledi;
                                        displayWednesday = "";
                                        fasceMer = stringDisponibilitaMer.Split(";");
                                        //rimuovo l'ultimo elemento perchè è una stringa vuota, infatti il formato è 10:00-12:00;14:00-15:30;
                                        fasceMer = fasceMer.Take(fasceMer.Count() - 1).ToArray();
                                        fasceMerPrimoFrom = fasceMer[0].Split("-")[0];
                                        selectedMerHourFrom =  Ore.Where(x => x == fasceMerPrimoFrom.Split(":")[0] ).FirstOrDefault();
                                        selectedMerMinutesFrom =  Minuti.Where(x => x == fasceMerPrimoFrom.Split(":")[1] ).FirstOrDefault();
                                        fasceMerPrimoTo = fasceMer[0].Split("-")[1];
                                        selectedMerHourTo =  Ore.Where(x => x == fasceMerPrimoTo.Split(":")[0] ).FirstOrDefault();
                                        selectedMerMinutesTo =  Minuti.Where(x => x == fasceMerPrimoTo.Split(":")[1] ).FirstOrDefault();
                                    }
                                }
                            }
                            <div id="divWednesday" class="mt-5" style="@displayWednesday" data-for="#DisponibilitaOraria_FasceOrarieMercoledi" >
                                <label class="h6">
                                    @_localizer["Wednesday"]


                                </label>
                                <a class="btn-time-slot btn btn-sm rounded-pill btn-light float-right mb-3" data-target="#slot-time-wednesday">@_localizer["AddTimeSlot"]</a>

                                <div id="slot-time-wednesday" class="input-group mb-3 input-time-slot">
                                    <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot" style="display:none;">
                                        <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                    </div>
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">@_localizer["From"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaFrom" value="@fasceMerPrimoFrom">*@

                                    @Html.DropDownList("oreFasciaOrariaFrom",
                                                    new SelectList(@Ore, @selectedMerHourFrom),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaFrom",
                                                        new SelectList(@Minuti, @selectedMerMinutesFrom),
                                                        @_localizer["Minutes"].Value,
                                                        new { @class = "select-orario custom-select" })

                                    <div class="input-group-append">
                                        <span class="input-group-text">@_localizer["To"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaTo" value="@fasceMerPrimoTo">*@

                                    @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @selectedMerHourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaTo",
                                                            new SelectList(@Minuti, @selectedMerMinutesTo),
                                                            @_localizer["Minutes"].Value,
                                                            new { @class = "select-orario custom-select" })

                                </div>

                                @{
                                    if (fasceMer != null)
                                    {
                                        var nMer = 0;
                                        @foreach (var fascia in fasceMer)
                                        {
                                            if (nMer == 0)
                                            {
                                                nMer++;
                                                continue;
                                            }
                                            var hourFrom = fascia.Split("-")[0].Split(":")[0];
                                            var minFrom =  fascia.Split("-")[0].Split(":")[1];
                                            var hourTo = fascia.Split("-")[1].Split(":")[0];
                                            var minTo = fascia.Split("-")[1].Split(":")[1];
                            <div id="slot-time-wednesday" data-index="0" class="input-group mb-3 input-time-slot">
                                <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot">
                                    <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                </div>
                                <div class="input-group-prepend ">
                                    <span class="input-group-text rounded-left">@_localizer["From"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@from" name="fasciaOrariaFrom">*@

                                @Html.DropDownList("oreFasciaOrariaFrom",
                                    new SelectList(@Ore, @hourFrom),
                                    @_localizer["Hours"].Value,
                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaFrom",
                                        new SelectList(@Minuti, @minFrom),
                                        @_localizer["Minutes"].Value,
                                        new { @class = "select-orario custom-select" })

                                <div class="input-group-append">
                                    <span class="input-group-text">@_localizer["To"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@to" name="fasciaOrariaTo">*@

                                @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @hourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaTo",
                                            new SelectList(@Minuti, @minTo),
                                            @_localizer["Minutes"].Value,
                                            new { @class = "select-orario custom-select" })

                            </div>

                                            nMer++;
                                        }
                                    }
                                }

                                <input type="text" asp-for="DisponibilitaOraria.FasceOrarieMercoledi" style=" display:none;" value="@stringDisponibilitaMer" />

                            </div>

                            @{
                                var fasceGio = new string[0];
                                var stringDisponibilitaGio = "";
                                var fasceGioPrimoFrom = "";
                                var fasceGioPrimoTo = "";
                                var displayThursday = "display:none";
                                string selectedGioHourFrom = null;
                                string selectedGioMinutesFrom = null;
                                string selectedGioHourTo = null;
                                string selectedGioMinutesTo = null;
                                if (annuncio != null && annuncio.DisponibilitaOraria != null)
                                {
                                    if (annuncio.DisponibilitaOraria.FasceOrarieGiovedi != null && annuncio.DisponibilitaOraria.FasceOrarieGiovedi != "")
                                    {
                                        stringDisponibilitaGio = annuncio.DisponibilitaOraria.FasceOrarieGiovedi;
                                        displayThursday = "";
                                        fasceGio = stringDisponibilitaGio.Split(";");
                                        //rimuovo l'ultimo elemento perchè è una stringa vuota, infatti il formato è 10:00-12:00;14:00-15:30;
                                        fasceGio = fasceGio.Take(fasceGio.Count() - 1).ToArray();
                                        fasceGioPrimoFrom = fasceGio[0].Split("-")[0];
                                        selectedGioHourFrom =  Ore.Where(x => x == fasceGioPrimoFrom.Split(":")[0] ).FirstOrDefault();
                                        selectedGioMinutesFrom =  Minuti.Where(x => x == fasceGioPrimoFrom.Split(":")[1] ).FirstOrDefault();
                                        fasceGioPrimoTo = fasceGio[0].Split("-")[1];
                                        selectedGioHourTo =  Ore.Where(x => x == fasceGioPrimoTo.Split(":")[0] ).FirstOrDefault();
                                        selectedGioMinutesTo =  Minuti.Where(x => x == fasceGioPrimoTo.Split(":")[1] ).FirstOrDefault();
                                    }
                                }
                            }
                            <div id="divThursday" class="mt-5" style="@displayThursday" data-for="#DisponibilitaOraria_FasceOrarieGiovedi" >
                                <label class="h6">
                                    @_localizer["Thursday"]

                                </label>
                                <a class="btn-time-slot btn btn-sm rounded-pill btn-light float-right mb-3" data-target="#slot-time-thursday">@_localizer["AddTimeSlot"]</a>

                                <div id="slot-time-thursday" class="input-group mb-3 input-time-slot">
                                    <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot" style="display:none;">
                                        <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                    </div>
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">@_localizer["From"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaFrom" value="@fasceGioPrimoFrom">*@

                                    @Html.DropDownList("oreFasciaOrariaFrom",
                                                    new SelectList(@Ore, @selectedGioHourFrom),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaFrom",
                                                        new SelectList(@Minuti, @selectedGioMinutesFrom),
                                                        @_localizer["Minutes"].Value,
                                                        new { @class = "select-orario custom-select" })

                                    <div class="input-group-append">
                                        <span class="input-group-text">@_localizer["To"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaTo" value="@fasceGioPrimoTo">*@

                                    @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @selectedGioHourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaTo",
                                                            new SelectList(@Minuti, @selectedGioMinutesTo),
                                                            @_localizer["Minutes"].Value,
                                                            new { @class = "select-orario custom-select" })

                                </div>

                                @{
                                    if (fasceGio != null)
                                    {
                                        var nGio = 0;
                                        @foreach (var fascia in fasceGio)
                                        {
                                            if (nGio == 0)
                                            {
                                                nGio++;
                                                continue;
                                            }
                                            var hourFrom = fascia.Split("-")[0].Split(":")[0];
                                            var minFrom =  fascia.Split("-")[0].Split(":")[1];
                                            var hourTo = fascia.Split("-")[1].Split(":")[0];
                                            var minTo = fascia.Split("-")[1].Split(":")[1];
                            <div id="slot-time-thursday" data-index="0" class="input-group mb-3 input-time-slot">
                                <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot">
                                    <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                </div>
                                <div class="input-group-prepend ">
                                    <span class="input-group-text rounded-left">@_localizer["From"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@from" name="fasciaOrariaFrom">*@

                                @Html.DropDownList("oreFasciaOrariaFrom",
                                    new SelectList(@Ore, @hourFrom),
                                    @_localizer["Hours"].Value,
                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaFrom",
                                        new SelectList(@Minuti, @minFrom),
                                        @_localizer["Minutes"].Value,
                                        new { @class = "select-orario custom-select" })

                                <div class="input-group-append">
                                    <span class="input-group-text">@_localizer["To"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@to" name="fasciaOrariaTo">*@

                                @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @hourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaTo",
                                            new SelectList(@Minuti, @minTo),
                                            @_localizer["Minutes"].Value,
                                            new { @class = "select-orario custom-select" })

                            </div>

                                            nGio++;
                                        }
                                    }
                                }

                                <input type="text" asp-for="DisponibilitaOraria.FasceOrarieGiovedi" style="display:none;" value="@stringDisponibilitaGio" />

                            </div>

                            @{
                                var fasceVen = new string[0];
                                var stringDisponibilitaVen = "";
                                var fasceVenPrimoFrom = "";
                                var fasceVenPrimoTo = "";
                                var displayFriday = "display:none";
                                string selectedVenHourFrom = null;
                                string selectedVenMinutesFrom = null;
                                string selectedVenHourTo = null;
                                string selectedVenMinutesTo = null;
                                if (annuncio != null && annuncio.DisponibilitaOraria != null)
                                {
                                    if (annuncio.DisponibilitaOraria.FasceOrarieVenerdi != null && annuncio.DisponibilitaOraria.FasceOrarieVenerdi != "")
                                    {
                                        stringDisponibilitaVen = annuncio.DisponibilitaOraria.FasceOrarieVenerdi;
                                        displayFriday = "";
                                        fasceVen = stringDisponibilitaVen.Split(";");
                                        //rimuovo l'ultimo elemento perchè è una stringa vuota, infatti il formato è 10:00-12:00;14:00-15:30;
                                        fasceVen = fasceVen.Take(fasceVen.Count() - 1).ToArray();
                                        fasceVenPrimoFrom = fasceVen[0].Split("-")[0];
                                        selectedVenHourFrom =  Ore.Where(x => x == fasceVenPrimoFrom.Split(":")[0] ).FirstOrDefault();
                                        selectedVenMinutesFrom =  Minuti.Where(x => x == fasceVenPrimoFrom.Split(":")[1] ).FirstOrDefault();
                                        fasceVenPrimoTo = fasceVen[0].Split("-")[1];
                                        selectedVenHourTo =  Ore.Where(x => x == fasceVenPrimoTo.Split(":")[0] ).FirstOrDefault();
                                        selectedVenMinutesTo =  Minuti.Where(x => x == fasceVenPrimoTo.Split(":")[1] ).FirstOrDefault();
                                    }
                                }
                            }
                            <div id="divFriday" class="mt-5" style="@displayFriday" data-for="#DisponibilitaOraria_FasceOrarieVenerdi" >
                                <label class="h6">
                                    @_localizer["Friday"]

                                </label>
                                <a class="btn-time-slot btn btn-sm rounded-pill btn-light float-right mb-3" data-target="#slot-time-friday">@_localizer["AddTimeSlot"]</a>

                                <div id="slot-time-friday" class="input-group mb-3 input-time-slot">
                                    <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot" style="display:none;">
                                        <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                    </div>
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">@_localizer["From"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaFrom" value="@fasceVenPrimoFrom">*@

                                    @Html.DropDownList("oreFasciaOrariaFrom",
                                                    new SelectList(@Ore, @selectedVenHourFrom),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaFrom",
                                                        new SelectList(@Minuti, @selectedVenMinutesFrom),
                                                        @_localizer["Minutes"].Value,
                                                        new { @class = "select-orario custom-select" })

                                    <div class="input-group-append">
                                        <span class="input-group-text">@_localizer["To"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaTo" value="@fasceVenPrimoTo">*@

                                    @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @selectedVenHourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaTo",
                                                            new SelectList(@Minuti, @selectedVenMinutesTo),
                                                            @_localizer["Minutes"].Value,
                                                            new { @class = "select-orario custom-select" })

                                </div>

                                @{
                                    if (fasceVen != null)
                                    {
                                        var nVen = 0;
                                        @foreach (var fascia in fasceVen)
                                        {
                                            if (nVen == 0)
                                            {
                                                nVen++;
                                                continue;
                                            }
                                            var hourFrom = fascia.Split("-")[0].Split(":")[0];
                                            var minFrom =  fascia.Split("-")[0].Split(":")[1];
                                            var hourTo = fascia.Split("-")[1].Split(":")[0];
                                            var minTo = fascia.Split("-")[1].Split(":")[1];
                            <div id="slot-time-friday" data-index="0" class="input-group mb-3 input-time-slot">
                                <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot">
                                    <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                </div>
                                <div class="input-group-prepend ">
                                    <span class="input-group-text rounded-left">@_localizer["From"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@from" name="fasciaOrariaFrom">*@

                                @Html.DropDownList("oreFasciaOrariaFrom",
                                    new SelectList(@Ore, @hourFrom),
                                    @_localizer["Hours"].Value,
                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaFrom",
                                        new SelectList(@Minuti, @minFrom),
                                        @_localizer["Minutes"].Value,
                                        new { @class = "select-orario custom-select" })

                                <div class="input-group-append">
                                    <span class="input-group-text">@_localizer["To"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@to" name="fasciaOrariaTo">*@

                                @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @hourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaTo",
                                            new SelectList(@Minuti, @minTo),
                                            @_localizer["Minutes"].Value,
                                            new { @class = "select-orario custom-select" })

                            </div>

                                            nVen++;
                                        }
                                    }
                                }

                                <input type="text" asp-for="DisponibilitaOraria.FasceOrarieVenerdi" style="display:none;" value="@stringDisponibilitaVen" />

                            </div>

                            @{
                                var fasceSab = new string[0];
                                var stringDisponibilitaSab = "";
                                var fasceSabPrimoFrom = "";
                                var fasceSabPrimoTo = "";
                                var displaySaturday = "display:none";
                                string selectedSabHourFrom = null;
                                string selectedSabMinutesFrom = null;
                                string selectedSabHourTo = null;
                                string selectedSabMinutesTo = null;
                                if (annuncio != null && annuncio.DisponibilitaOraria != null)
                                {
                                    if (annuncio.DisponibilitaOraria.FasceOrarieSabato != null && annuncio.DisponibilitaOraria.FasceOrarieSabato != "")
                                    {
                                        stringDisponibilitaSab = annuncio.DisponibilitaOraria.FasceOrarieSabato;
                                        displaySaturday = "";
                                        fasceSab = stringDisponibilitaSab.Split(";");
                                        //rimuovo l'ultimo elemento perchè è una stringa vuota, infatti il formato è 10:00-12:00;14:00-15:30;
                                        fasceSab = fasceSab.Take(fasceSab.Count() - 1).ToArray();
                                        fasceSabPrimoFrom = fasceSab[0].Split("-")[0];
                                        selectedSabHourFrom =  Ore.Where(x => x == fasceSabPrimoFrom.Split(":")[0] ).FirstOrDefault();
                                        selectedSabMinutesFrom =  Minuti.Where(x => x == fasceSabPrimoFrom.Split(":")[1] ).FirstOrDefault();
                                        fasceSabPrimoTo = fasceSab[0].Split("-")[1];
                                        selectedSabHourTo =  Ore.Where(x => x == fasceSabPrimoTo.Split(":")[0] ).FirstOrDefault();
                                        selectedSabMinutesTo =  Minuti.Where(x => x == fasceSabPrimoTo.Split(":")[1] ).FirstOrDefault();
                                    }
                                }
                            }
                            <div id="divSaturday" class="mt-5" style="@displaySaturday" data-for="#DisponibilitaOraria_FasceOrarieSabato" >
                                <label class="h6">
                                    @_localizer["Saturday"]
                                </label>
                                <a class="btn-time-slot btn btn-sm rounded-pill btn-light float-right mb-3" data-target="#slot-time-saturday">@_localizer["AddTimeSlot"]</a>

                                <div id="slot-time-saturday" class="input-group  mb-3 input-time-slot">
                                    <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot" style="display:none;">
                                        <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                    </div>
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">@_localizer["From"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaFrom" value="@fasceSabPrimoFrom">*@

                                    @Html.DropDownList("oreFasciaOrariaFrom",
                                                    new SelectList(@Ore, @selectedSabHourFrom),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaFrom",
                                                        new SelectList(@Minuti, @selectedSabMinutesFrom),
                                                        @_localizer["Minutes"].Value,
                                                        new { @class = "select-orario custom-select" })

                                    <div class="input-group-append">
                                        <span class="input-group-text">@_localizer["To"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaTo" value="@fasceSabPrimoTo">*@

                                    @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @selectedSabHourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaTo",
                                                            new SelectList(@Minuti, @selectedSabMinutesTo),
                                                            @_localizer["Minutes"].Value,
                                                            new { @class = "select-orario custom-select" })

                                </div>

                                @{
                                    if (fasceSab != null)
                                    {
                                        var nSab = 0;
                                        @foreach (var fascia in fasceSab)
                                        {
                                            if (nSab == 0)
                                            {
                                                nSab++;
                                                continue;
                                            }
                                            var hourFrom = fascia.Split("-")[0].Split(":")[0];
                                            var minFrom =  fascia.Split("-")[0].Split(":")[1];
                                            var hourTo = fascia.Split("-")[1].Split(":")[0];
                                            var minTo = fascia.Split("-")[1].Split(":")[1];
                            <div id="slot-time-saturday" data-index="0" class="input-group mb-3 input-time-slot">
                                <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot">
                                    <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                </div>
                                <div class="input-group-prepend ">
                                    <span class="input-group-text rounded-left">@_localizer["From"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@from" name="fasciaOrariaFrom">*@

                                @Html.DropDownList("oreFasciaOrariaFrom",
                                    new SelectList(@Ore, @hourFrom),
                                    @_localizer["Hours"].Value,
                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaFrom",
                                        new SelectList(@Minuti, @minFrom),
                                        @_localizer["Minutes"].Value,
                                        new { @class = "select-orario custom-select" })

                                <div class="input-group-append">
                                    <span class="input-group-text">@_localizer["To"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@to" name="fasciaOrariaTo">*@

                                @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @hourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaTo",
                                            new SelectList(@Minuti, @minTo),
                                            @_localizer["Minutes"].Value,
                                            new { @class = "select-orario custom-select" })

                            </div>

                                            nSab++;
                                        }
                                    }
                                }
                                <input type="text" asp-for="DisponibilitaOraria.FasceOrarieSabato" style="display:none;" value="@stringDisponibilitaSab" />

                            </div>

                            @{
                                var fasceDom = new string[0];
                                var stringDisponibilitaDom = "";
                                var fasceDomPrimoFrom = "";
                                var fasceDomPrimoTo = "";
                                var displaySunday = "display:none";
                                string selectedDomHourFrom = null;
                                string selectedDomMinutesFrom = null;
                                string selectedDomHourTo = null;
                                string selectedDomMinutesTo = null;
                                if (annuncio != null && annuncio.DisponibilitaOraria != null)
                                {
                                    if (annuncio.DisponibilitaOraria.FasceOrarieDomenica != null && annuncio.DisponibilitaOraria.FasceOrarieDomenica != "")
                                    {
                                        stringDisponibilitaDom = annuncio.DisponibilitaOraria.FasceOrarieDomenica;
                                        displaySunday = "";
                                        fasceDom = stringDisponibilitaDom.Split(";");
                                        //rimuovo l'ultimo elemento perchè è una stringa vuota, infatti il formato è 10:00-12:00;14:00-15:30;
                                        fasceDom = fasceDom.Take(fasceDom.Count() - 1).ToArray();
                                        fasceDomPrimoFrom = fasceDom[0].Split("-")[0];
                                        selectedDomHourFrom =  Ore.Where(x => x == fasceDomPrimoFrom.Split(":")[0] ).FirstOrDefault();
                                        selectedDomMinutesFrom =  Minuti.Where(x => x == fasceDomPrimoFrom.Split(":")[1] ).FirstOrDefault();
                                        fasceDomPrimoTo = fasceDom[0].Split("-")[1];
                                        selectedDomHourTo =  Ore.Where(x => x == fasceDomPrimoTo.Split(":")[0] ).FirstOrDefault();
                                        selectedDomMinutesTo =  Minuti.Where(x => x == fasceDomPrimoTo.Split(":")[1] ).FirstOrDefault();
                                    }
                                }
                            }
                            <div id="divSunday" class="mt-5" style="@displaySunday" data-for="#DisponibilitaOraria_FasceOrarieDomenica" >
                                <label class="h6">
                                    @_localizer["Sunday"]

                                </label>
                                <a class="btn-time-slot btn btn-sm rounded-pill btn-light float-right mb-3" data-target="#slot-time-sunday">@_localizer["AddTimeSlot"]</a>

                                <div id="slot-time-sunday" class="input-group mb-3 input-time-slot">
                                    <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot" style="display:none;">
                                        <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                    </div>
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">@_localizer["From"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaFrom" value="@fasceDomPrimoFrom">*@

                                    @Html.DropDownList("oreFasciaOrariaFrom",
                                                    new SelectList(@Ore, @selectedDomHourFrom),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaFrom",
                                                        new SelectList(@Minuti, @selectedDomMinutesFrom),
                                                        @_localizer["Minutes"].Value,
                                                        new { @class = "select-orario custom-select" })

                                    <div class="input-group-append">
                                        <span class="input-group-text">@_localizer["To"]</span>
                                    </div>
                                    @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" name="fasciaOrariaTo" value="@fasceDomPrimoTo">*@

                                    @Html.DropDownList("oreFasciaOrariaTo",
                                                    new SelectList(@Ore, @selectedDomHourTo),
                                                    @_localizer["Hours"].Value,
                                                    new { @class = "select-orario custom-select" })
                                    @Html.DropDownList("minutiFasciaOrariaTo",
                                                            new SelectList(@Minuti, @selectedDomMinutesTo),
                                                            @_localizer["Minutes"].Value,
                                                            new { @class = "select-orario custom-select" })

                                </div>

                                @{
                                    if (fasceDom != null)
                                    {
                                        var nDom = 0;
                                        @foreach (var fascia in fasceDom)
                                        {
                                            if (nDom == 0)
                                            {
                                                nDom++;
                                                continue;
                                            }
                                            var hourFrom = fascia.Split("-")[0].Split(":")[0];
                                            var minFrom =  fascia.Split("-")[0].Split(":")[1];
                                            var hourTo = fascia.Split("-")[1].Split(":")[0];
                                            var minTo = fascia.Split("-")[1].Split(":")[1];
                            <div id="slot-time-sunday" data-index="0" class="input-group mb-3 input-time-slot">
                                <div onclick="RemoveSlot(this);" class="input-group-prepend border-0 mr-2 btn-remove-slot">
                                    <a class="btn btn-light rounded-circle"><i class="fas fa-times"></i></a>
                                </div>
                                <div class="input-group-prepend ">
                                    <span class="input-group-text rounded-left">@_localizer["From"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@from" name="fasciaOrariaFrom">*@

                                @Html.DropDownList("oreFasciaOrariaFrom",
                                    new SelectList(@Ore, @hourFrom),
                                    @_localizer["Hours"].Value,
                                    new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaFrom",
                                        new SelectList(@Minuti, @minFrom),
                                        @_localizer["Minutes"].Value,
                                        new { @class = "select-orario custom-select" })

                                <div class="input-group-append">
                                    <span class="input-group-text">@_localizer["To"]</span>
                                </div>
                                @*<input type="time" class="form-control valid" aria-label="Amount (to the nearest dollar)" aria-invalid="false" value="@to" name="fasciaOrariaTo">*@

                                @Html.DropDownList("oreFasciaOrariaTo",
                                                        new SelectList(@Ore, @hourTo),
                                                        @_localizer["Hours"].Value,
                                                        new { @class = "select-orario custom-select" })
                                @Html.DropDownList("minutiFasciaOrariaTo",
                                            new SelectList(@Minuti, @minTo),
                                            @_localizer["Minutes"].Value,
                                            new { @class = "select-orario custom-select" })

                            </div>

                                            nDom++;
                                        }
                                    }
                                }

                                <input type="text" asp-for="DisponibilitaOraria.FasceOrarieDomenica" style="display:none;" value="@stringDisponibilitaDom" />

                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group mt-3">
                    <input type="submit" value="@_localizer["PublishAd"]" class="btn btn-primary" />
                </div>
            </form>
        </div>
    </div>
</div>



@section Scripts {
    <script src="~/js/annunci-create.js" asp-append-version="true"></script>
    <script src="~/js/virtual-agent-sell.js" asp-append-version="true"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAUDWKfs6tGF891vL-VwXYubP_IKuG8exg&callback=setMap"></script>

    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}